<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Api</title>
    <!--Meta Data-->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="" />
    <meta name="author" content="">
    <meta name="theme-color" content="#012442">
    <!-- Favicons -->
    <!--<link rel="icon" type="image/png" href="assets/img/1.png"/>
	<link rel="icon" sizes="192x192"  href="assets/img/1.png">-->
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="assets/css/materialize.min.css">
    <!-- Style -->
    <style>
    body{
    	font-family: 'Open Sans';
    }
    table tr td{
    	padding: 10px;
    }
    </style>
    <!-- JavaScripts -->
    <!--<script src="assets/js/jquery-3.2.1.min.js" type="text/javascript"></script>-->
    <script src="assets/js/js.js" type="text/javascript"></script>  

    <script src="assets/js/datapagalib.js" type="text/javascript"></script>
    
</head>

<body class="align-middle">
<script>  
     document.addEventListener('DOMContentLoaded', function () {
        var datas = {
            "account_movement": {
            "api_key": "HSEK2ZZ71hSuK9sYU6D3",//API KEY get in your Dasboard
            "api_secret": "eEm5ERkCIT+cQvwLfbLfRDw8P8XREzpxCyvKXueCWX4=",//API SECRET get in your Dasboard
            "start_date": "2017-01-01",
            "end_date": "2017-12-01",
            "page": "1"}
        }

        datapagalib._get_list_transaction(JSON.stringify(datas)).then((result)=>{

            var object = JSON.parse(result)
            console.log(object)

      
            var str = JSON.stringify(object, undefined, 4);        

            var content = document.querySelector('#transaction_response pre');
       
            var data_content = "";
            data_content +=  JSON.stringify(object);
            content.append(str);

          
            var table_body = "";


            var xTable=document.getElementById('tbodyrows');

     
            for (var i = object.response.length - 1; i >= 0; i--) {     
                var tr=document.createElement('tr');  
              
                    table_body += '<td>'+ object.response[i].id             +'</td>';          
                    table_body += '<td>'+ object.response[i].client_email   +'</td>';  
                    table_body += '<td>'+ object.response[i].total_amount   +'</td>';
                    table_body += '<td>'+ object.response[i].payment_status +'</td>';
                    table_body += '<td>'+ object.response[i].description    +'</td>';
                    table_body += '<td>'+ object.response[i].created_date   +'</td>'; 
                    table_body += '<td><a class="btn btn-info" href="refund.html?card_uuid='+object.response[i].uuid +'"> Reembolso </a></td>'; 
                    tr.innerHTML =table_body;
                    xTable.appendChild(tr);
                    table_body ="";
            }

        

        });
    });
</script>
<section>  
<nav>
    <div class="nav-wrapper">
      <a href="#" class="brand-logo"></a>
      <ul id="nav-mobile" class="right hide-on-med-and-down">
          <li class="nav-item">
            <a class="nav-link active" href="index.html">Transactión history</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="charge.html">charge example</a>
          </li>     
          <li class="nav-item">
            <a class="nav-link" href="card_list.html">Card list</a>
          </li> 
          <li class="nav-item">
            <a class="nav-link" href="balance.html">Balance</a>
          </li>
      </ul>
    </div>
</nav>   
</section>
<section>
	<div class="container">
        <div class="row">   
            <div class="col-lg-12"> 
                </br>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-12">
                  <div class="card-panel">
                    <h4 class="card-title">Transaction_history Response :</h4>
                    <div id="transaction_response">  
                    <pre>

                    </pre>      
                    </div>
                  </div>                                       
            </div>
        </div>
        <div class="row">   
            <div class="col-lg-12"> 
                </br>
            </div>
        </div>
		<div class="row">
			<div class="col-lg-12">
				<div id="list_trasaction" class="table-responsive">
			        <table id="xtable" class="table responsive-table striped">
			            <thead>
			                <th> ID           </th>
			                <th> Cliente      </th>
			                <th> Monto        </th>
			                <th> Estatus      </th>
			                <th> Descripción  </th>
			                <th> Fecha creado </th>
			                <th>              </th>
			            </thead>
			            <tbody id="tbodyrows">
			            </tbody>
			        </table>
			    </div>
			</div>
		</div>        
	</div>
</section>
    <!--section-->
    

    
    <!--End section-->
</body>

</html>