/*=====================================================
*
*   _ : Datapaga library JavaScript 
*   (c) Techlatam
*
======================================================*/
function _createlocal_storage(e,t){switch(t){case"history_transaction":localStorage.setItem("history_transaction",JSON.stringify(e));break;case"account_movements":localStorage.setItem("account_movements",JSON.stringify(e));break;case"card_list":localStorage.setItem("card_list",JSON.stringify(e));break;case"card_detail":localStorage.setItem("card_detail",JSON.stringify(e));break;case"balance":localStorage.setItem("balance",JSON.stringify(e));break;case"refund":localStorage.setItem("refund",JSON.stringify(e))}}function _clear_local_storague(){localStorage.setItem("history_transaction","temp_data"),localStorage.removeItem("history_transaction"),localStorage.clear()}function _create_json(e){var t=localStorage.getItem(e);return log_module=JSON.parse(t),log_module}function _transactions_history(e){return $.ajax({type:"Post",url:url_stagin+"/account_movements/transaction_history/",headers:{"Content-Type":"application/json",SECRET:decode(Secret),Authorization:decode(Authorization)},data:JSON.stringify(e),dataType:"json",beforeSend:function(e){e.setRequestHeader("Accept","application/json, text/javascript")},success:function(e){_createlocal_storage(e,"history_transaction")},error:function(e,t,a){_createlocal_storage(e.responseJSON,"history_transaction")}})}function _account_movements(e){return $.ajax({type:"Post",url:url_stagin+"/account_movements/charge",headers:{"Content-Type":"application/json",SECRET:decode(Secret),Authorization:decode(Authorization)},data:JSON.stringify(e),dataType:"json",beforeSend:function(e){e.setRequestHeader("Accept","application/json, text/javascript")},success:function(e){_createlocal_storage(e,"account_movements")},error:function(e,t,a){_createlocal_storage(e.responseJSON,"account_movements")}})}function _card_list(e){return $.ajax({type:"post",url:url_stagin+"/cards/list?page=1",headers:{"Content-Type":"application/json",SECRET:decode(Secret),Authorization:decode(Authorization)},data:JSON.stringify(e),dataType:"json",beforeSend:function(e){e.setRequestHeader("Accept","application/json, text/javascript")},success:function(e){_createlocal_storage(e,"card_list")},error:function(e,t,a){_createlocal_storage(e.responseJSON,"card_list")}})}function _card_detail(e,t){return $.ajax({type:"post",url:url_stagin+"/cards/detail/"+t,headers:{"Content-Type":"application/json",SECRET:decode(Secret),Authorization:decode(Authorization)},data:JSON.stringify(e),dataType:"json",beforeSend:function(e){e.setRequestHeader("Accept","application/json, text/javascript")},success:function(e){_createlocal_storage(e,"card_detail")},error:function(e,t,a){_createlocal_storage(e.responseJSON,"card_detail")}})}function _balance(e){return $.ajax({type:"post",url:url_stagin+"/stores/balance",headers:{"Content-Type":"application/json",SECRET:decode(Secret),Authorization:decode(Authorization)},data:JSON.stringify(e),dataType:"json",beforeSend:function(e){e.setRequestHeader("Accept","application/json, text/javascript")},success:function(e){_createlocal_storage(e,"balance")},error:function(e,t,a){_createlocal_storage(e.responseJSON,"balance")}})}function _refund(e,t){return $.ajax({type:"post",url:url_stagin+"/account_movements/refund/"+t,headers:{"Content-Type":"application/json",SECRET:decode(Secret),Authorization:decode(Authorization)},data:JSON.stringify(e),dataType:"json",beforeSend:function(e){e.setRequestHeader("Accept","application/json, text/javascript")},success:function(e){_createlocal_storage(e,"refund")},error:function(e,t,a){_createlocal_storage(e.responseJSON,"refund")}})}var url="https://datapaga.herokuapp.com/v1",url_stagin="https://datapaga-staging.herokuapp.com/v1",log_transaction,Secret=encode("eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJkYXRhcGFnYS5jb20iLCJuYW1lIjoiZGF0YXBhZ2EifQ.nhhJX5PWbV3hj4Z9n7WdjKkixp7Fj5EL_vqhotwziBY"),Authorization=encode("Bearer 865b0937144bcb09fd77e75b52b76af866d3747becda7a234ca7b768e660af29"),datapagalib={_get_list_transaction:function(e){return _transactions_history(e),_create_json("history_transaction")},_get_account_movements:function(e){return _account_movements(e),_create_json("account_movements")},_get_list_card:function(e){return _card_list(e),_create_json("card_list")},_get_card_detail:function(e,t){return _card_detail(e,t),_create_json("card_detail")},_get_balance:function(e){return _balance(e),_create_json("balance")},_get_refund:function(e,t){if(console.log(t),0!=t){return _refund(e,t),_create_json("refund")}return{"error params":"Not uuid_card"}}};